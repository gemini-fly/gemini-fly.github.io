---
title: 浮点类型
layout: post
abbrlink: 32161
date: 2022-03-17 15:45:49
categories: go
tags: go
---

# 1.浮点类型

## 基本介绍

小数类型就是用于存放小数的，比如 1.2 0.23 -1.91

<!--more-->

## 1.1浮点类型分类

|     类型      | 占用存储空间 |       表数范围       |
| :-----------: | :----------: | :------------------: |
| 单精度float32 |     字节     |  -3.403E38~3.403E38  |
| 双精度float32 |    8字节     | -1.798E308~1.798E308 |

对上图的说明:

### 1.1.1 关于浮点数在机器中存放形式的简单说明,浮点数=符号位+指数位+尾数位

说明：浮点数都是有符号的.

```
package main

import "fmt"

func main() {
	var n1 float32 = 79.32
	var n2 float32 = -0.000123
	var n3 float64 = -98765.4321
	fmt.Println("n1=", n1, "n2=", n2, "n3=", n3)
}

```

结果

<font color=#FF0000>n1= 79.32 n2= -0.000123 n3= -98765.4321</font>

### 1.1.2尾数部分可能丢失，造成精度损失

```
package main

import "fmt"

func main() {
	var n1 float32 = 123.456789999
	var n2 float64 = 123.4567899999999
	fmt.Println("n1=", n1, "n2=", n2)
}

```

结果

<font color=#ff0000>n1= 123.45679 n2= 123.4567899999999</font>

说明：float64 的精度比 float32 的要准确。

说明：如果我们要保存一个精度高的数，则应该选用 float64。

### 1.1.3 浮点型的存储分为三部分

符号位+指数位+尾数位在存储过程中，精度会有丢失

## 1.2浮点型使用细节

1) Golang 浮点类型有固定的范围和字段长度，不受具体 OS(操作系统)的影响。 

2) Golang 的浮点型默认声明为 float64 类型。

    ```
    package main
    
    import "fmt"
    
    func main() {
    	var n1 = 123.456789999
    	fmt.Printf("n1的数据类型是%T", n1)
    }
    ```

    结果

    <font color=#FF0000>n1的数据类型是float64</font>

3) 浮点型常量有两种表示形式 

4) 十进制数形式：如：5.12 .512 (必须有小数点）科学计数法形式:

    5.1234e2 = 5.12 * 10 的 2 次方

     5.12E-2 = 5.12/10 的 2 次方

5) 通常情况下，应该使用 float64 ，因为它比 float32 更精确。[开发中，推荐使用 float64]
